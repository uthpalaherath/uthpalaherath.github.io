<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>An introduction to creating professional looking documents with Markdown and Pandoc</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" type="text/javascript"></script>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
  
  <!-- pandoc-eqnos: equation style -->
  <style>
    .eqnos { display: inline-block; position: relative; width: 100%; }
    .eqnos br { display: none; }
    .eqnos-number { position: absolute; right: 0em; top: 50%; line-height: 0; }
  </style>
</head>
<body>
<header id="title-block-header">
<h1 class="title">An introduction to creating professional looking documents with Markdown and Pandoc</h1>
<p class="subtitle">In this tutorial we explore how to generate visually appealing documents with Markdown and then convert them into Latex for further processing or export them as Pdf’s.</p>
</header>
<nav id="TOC" role="doc-toc">

</nav>
<h1 data-number="1" id="introduction" data-number="1"><span class="header-section-number">1</span> Introduction</h1>
<p>Throughout the last couple of years I’ve been trying to figure out the best way to keep my notes organized. For notes I take on paper, I keep them in folders for each project or class. Sometimes I keep physical note books for that as well. Here, we will focus on the most recent method I started using to organize my <strong>digital notes</strong>. I have tried a multitude of programs ranging from plain text files to softwares like the ever so popular Evernote.<span class="citation" data-cites="Evernote"><sup>1</sup></span> However, none of them worked for me. Text files aren’t capable of keeping images and tables etc. but that’s what they are there for - to save plain text. Evernote fares much better in that aspect since it can store images, tables and all that. However, the main issues with Evernote is that it cannot handle advance formatting such as Latex formulas and it also doesn’t allow exporting the documents to other formats. Markdown, on the other hand, can do all that and much more.</p>
<p>Markdown is a simple text syntax that is very portable and has rich formatting. You could use any text editor to write Markdown and you can save it anywhere. It is very straightforward and easy to learn. For example, hashtags define titles and control their sizes. “# Title” gives a title. “## Subtitle” would be a little smaller, “### Sub-subtitle” would be even smaller and so on. Typing in a “-” , “+” or "*" before any item automatically generates bulleted lists. You could use numbers instead for numbered lists in a similar manner. I won’t dive into how to write in Markdown in this tutorial but here are two tutorials that teache you how to do that:</p>
<ol type="1">
<li><a href="https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet" class="uri">https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet</a></li>
<li><a href="http://support.typora.io/Markdown-Reference/" class="uri">http://support.typora.io/Markdown-Reference/</a></li>
</ol>
<p>Just remember to save your file in the <strong>.md</strong> format.</p>
<p>One of the major reasons I switched to Markdown is the ability to write in-line formulas. Markdown follows a syntax similar to Latex where “$$” is used to enclose the formula. This format is preserved when Markdown is exported to a Latex file.</p>
<p><u>Examples:</u></p>
<ul>
<li><p>$LaNiO_3$ gives <span class="math inline">\(LaNiO_3\)</span></p></li>
<li><pre><code>  $$ 
  n_{\vec{k} i j}=\sum_{\lambda} U_{\vec{k} i \lambda}^{DMFT}
  \cdot w_{\vec{k} \lambda} \cdot U_{\vec{k} j \lambda}^{DMFT*} 
  $$ {#eq:equationlabel}</code></pre>
<p>gives</p></li>
</ul>
<p><span id="eq:equationlabel" class="eqnos"><span class="math display">\[
n_{\vec{k}ij}=\sum_{\lambda} U_{\vec{k}i\lambda}^{DMFT} \cdot w_{\vec{k} \lambda} \cdot U_{\vec{k} j \lambda}^{DMFT*}
\]</span><span class="eqnos-number">(1)</span></span> </p>
<p>If you have a series of formulas, they will be numbered automatically. In the exported Latex document they will appear inside a <code>\equation</code> block. <code>{#eq:equationlabel}</code> is set as a label for the equation to be referenced by <code>@eq:equationlabel</code>. For figures it would be <code>{#fig:figurelabel}</code> and <code>{#tbl:tablelabel}</code> for tables. The section labels are labelled automatically based on the name of the section and can be references by for example, <code>@sec:prerequisites</code>.</p>
<p>Tables in Markdown seem appealing as well. This can be seen in table <a href="#tbl:table1">1</a>. They are converted to latex tables automatically when exported.</p>
<div id="tbl:table1" class="tablenos">
<table>
<caption><span>Table 1:</span> This is the caption of the table. </caption>
<thead>
<tr class="header">
<th>column 1</th>
<th>column 2</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Some text here</td>
<td>Some text there</td>
</tr>
</tbody>
</table>
</div>
<p>What we are going to learn here is how to create Markdown documents that would help us do scientific writing and then export it to .tex for further latex processing. In section <a href="#prerequisites">2</a> we will discuss what we need for this.</p>
<h1 data-number="2" id="prerequisites" data-number="2"><span class="header-section-number">2</span> Prerequisites</h1>
<p>Here’s a list of the programs/libraries we use in this tutorial. You’re free to use similar programs if that works better for you. The tutorial is based on what I did on Ubuntu 16.04 and I followed identical steps for my Mac. I’m certain it will work for Windows as well.</p>
<ul>
<li><p>Typora -</p>
<p>Even though Markdown can be written using any text editor, I prefer Typora since it converts the Markdown syntax in real time. You can get it from <a href="https://www.typora.io/" class="uri">https://www.typora.io/</a>. It also allows the creation of tables without needing complex syntax. Another cool feature is that you can copy and paste or drag and drop images right onto the markdown document. The images are saved in a directory where the markdown file is stored so that you have access to the images in one place. Typora also lets you write code with syntax highlighting. A Python code would look like this:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1"></a><span class="kw">def</span> Create_dmft_params(p,pC,N_atoms,atm_idx,sym_idx):</span>
<span id="cb2-2"><a href="#cb2-2"></a>    <span class="co">#print &gt;&gt; f, len(sym_idx[atm_idx[0]]) # This becomes:</span></span>
<span id="cb2-3"><a href="#cb2-3"></a>    <span class="bu">print</span> <span class="op">&gt;&gt;</span> f, <span class="bu">len</span>(sym_idx[atm_idx[<span class="dv">0</span>]])<span class="op">/</span>p[<span class="st">&#39;nspin&#39;</span>]</span></code></pre></div>
<p>Typora also allows you to use your everyday shortcuts like Ctrl + B, Ctrl + U for syntax formatting and automatically writes the relevant Markdown syntax. Writing Markdown in Typora is a smooth experience. It has a folder tree to easily access your notes. A snapshot of my Typora setup is shown in Fig. <a href="#fig:typora">2.1</a>.</p>
<div id="fig:typora" class="fignos">
<figure>
<img src="/images/Markdown-Tutorial/image-20200128174047615.png" data-tag="2.1" alt="" /><figcaption><span>Figure 2.1:</span> What writing Markdown in Typora looks like.</figcaption>
</figure>
</div></li>
<li><p>Pandoc -</p>
<p>This allows for the conversion between formats. You can get it from <a href="https://pandoc.org/installing.html" class="uri">https://pandoc.org/installing.html</a>. We also need to install the plugins to render numbering and labeling for figures, tables, equations and sections. This is installed with pip.</p>
<pre><code>pip install pandoc-fignos pandoc-tablenos pandoc-eqnos pandoc-secnos</code></pre>
<p>Another thing we need to be careful about is which pandoc the system is using since anaconda has its own outdated version of it. If this is the case rename the anaconda version to something else so that the system only uses the generic version of pandoc.</p></li>
<li><p>Dropbox or equivalent -</p>
<p>Unlike softwares like Evernote that store notes on their own servers in their own format, Markdown files can be saved anywhere in your storage since they are just like another text file. However, I prefer them to sync between computers so I use Dropbox. I have a directory called <code>Notebooks</code> in which I create folders for each project where I create the <code>.md</code> files for each note.</p></li>
<li><p>Latex -</p>
<p>The conversion between .tex to .pdf requires pdflatex which comes with the latex installation. Also, once your Markdown file is converted to a .tex file, you may want to fine tune it a bit in either Overleaf or if you want Latex on your computer you can install it from <a href="https://www.latex-project.org/get/" class="uri">https://www.latex-project.org/get/</a>. I recommend the program Texmaker.</p></li>
</ul>
<h1 data-number="3" id="writing-in-markdown" data-number="3"><span class="header-section-number">3</span> Writing in Markdown</h1>
<p>Let’s see what an example Markdown document for our purposes would look like.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb4-1"><a href="#cb4-1"></a>---</span>
<span id="cb4-2"><a href="#cb4-2"></a>title: Generating Latex and Pdf documents with Markdown</span>
<span id="cb4-3"><a href="#cb4-3"></a>bibliography: references.bib</span>
<span id="cb4-4"><a href="#cb4-4"></a>abstract: In this tutorial we explore how to generate </span>
<span id="cb4-5"><a href="#cb4-5"></a>visually appealing documents with Markdown and then convert </span>
<span id="cb4-6"><a href="#cb4-6"></a>them into Latex for further processing or export them as Pdf.</span>
<span id="cb4-7"><a href="#cb4-7"></a>All the required files are found in the same directory where </span>
<span id="cb4-8"><a href="#cb4-8"></a>this Pdf is located in. </span>
<span id="cb4-9"><a href="#cb4-9"></a>---</span>
<span id="cb4-10"><a href="#cb4-10"></a></span>
<span id="cb4-11"><a href="#cb4-11"></a><span class="fu"># Introduction</span></span>
<span id="cb4-12"><a href="#cb4-12"></a></span>
<span id="cb4-13"><a href="#cb4-13"></a><span class="fu">## Tables</span></span>
<span id="cb4-14"><a href="#cb4-14"></a>Let&#39;s start with a table as seen in table @tbl:table1. </span>
<span id="cb4-15"><a href="#cb4-15"></a></span>
<span id="cb4-16"><a href="#cb4-16"></a>| column 1 | column 2 |</span>
<span id="cb4-17"><a href="#cb4-17"></a>Table:This is the caption of the table. {#tbl:table1} </span>
<span id="cb4-18"><a href="#cb4-18"></a></span>
<span id="cb4-19"><a href="#cb4-19"></a>Typora automatically creates a table once you have | column 1 | column 2 |. </span>
<span id="cb4-20"><a href="#cb4-20"></a>Or you can get it from the menu bar. </span>
<span id="cb4-21"><a href="#cb4-21"></a></span>
<span id="cb4-22"><a href="#cb4-22"></a><span class="fu">## Figures</span></span>
<span id="cb4-23"><a href="#cb4-23"></a>Figures in Markdown are cool. You can just copy paste them from anywhere and</span>
<span id="cb4-24"><a href="#cb4-24"></a>it would be saved into a directory where your Markdown file is. Once pasted,</span>
<span id="cb4-25"><a href="#cb4-25"></a>Typora will automatically generate the following string. To reference this</span>
<span id="cb4-26"><a href="#cb4-26"></a>image in your paragraph just use @fig:figurelabel.</span>
<span id="cb4-27"><a href="#cb4-27"></a></span>
<span id="cb4-28"><a href="#cb4-28"></a><span class="al">![The caption of the image.](//images/image.jpg)</span>{#fig:figurelabel}</span>
<span id="cb4-29"><a href="#cb4-29"></a></span>
<span id="cb4-30"><a href="#cb4-30"></a><span class="fu">## References</span></span>
<span id="cb4-31"><a href="#cb4-31"></a>We can also use references from a bibtex file, say references.bib, which</span>
<span id="cb4-32"><a href="#cb4-32"></a>should be in the same directory. Simply refer to it by, [@nameofbibtexentry]. </span>
<span id="cb4-33"><a href="#cb4-33"></a></span>
<span id="cb4-34"><a href="#cb4-34"></a><span class="fu">## Formulas </span></span>
<span id="cb4-35"><a href="#cb4-35"></a>Inline math equations are surrounded by $\alpha$. </span>
<span id="cb4-36"><a href="#cb4-36"></a>For detailed equations use $$..$$ as shown in @eq:equationlabel.</span>
<span id="cb4-37"><a href="#cb4-37"></a></span>
<span id="cb4-38"><a href="#cb4-38"></a>$$</span>
<span id="cb4-39"><a href="#cb4-39"></a>y = mx + c</span>
<span id="cb4-40"><a href="#cb4-40"></a>$$ {#eq:equationlabel}</span></code></pre></div>
<hr />
<p>The header contains the title, name of the bibtex file, abstract and so on. I have hard coded the author and affiliation in the <code>default.latex</code> file but one may use tags such as <strong>date</strong>, <strong>author</strong>, <strong>affiliation</strong> etc. You can look for <strong>YAML Front Matter</strong> for more details.</p>
<p>Images in Markdown look like Fig. <a href="#fig:figurelabel">3.1</a>. To make things look better, you can modify the latex file and use sub-figures and so on.</p>
<div id="fig:figurelabel" class="fignos">
<figure>
<img src="/images/Markdown-Tutorial/image.jpg" data-tag="3.1" alt="" /><figcaption><span>Figure 3.1:</span> The caption of the image.</figcaption>
</figure>
</div>
<p>References are used just like in Latex. You create a .bib file with all the bibtex entries and refer to each of them with the <code>@</code> symbol. In latex this is converted to <code>\citep</code>.</p>
<p>E.g. -</p>
<pre><code> PyProcar [@HERATH2019107080] </code></pre>
<p>gives PyProcar<span class="citation" data-cites="HERATH2019107080"><sup>2</sup></span></p>
<h1 data-number="4" id="converting-markdown-to-latex" data-number="4"><span class="header-section-number">4</span> Converting Markdown to Latex</h1>
<p>Once we’re done writing our Markdown document, say <strong>example.md</strong>, we have to convert it into Latex. This is where Pandoc comes in. The settings file is in <code>~/.pandoc/templates/default.latex</code>. You can create it if it’s not there. This tells Pandoc how to convert the Markdown file into Latex. I have my modified default.latex file in the same directory as this tutorial, but for an updated version get it from my github fork <a href="https://github.com/uthpalaherath/pandoc-templates">here</a>. You should take a look at the section (shown below) where I have my name and affiliation and change yours accordingly.</p>
<pre><code>...
% Customized details
\author[]{Uthpala Herath}
\affil[]{\textit{Department of Physics and Astronomy,\protect\\ 
West Virginia University,\protect\\ Morgantown, WV 26505-6315, USA}}
...</code></pre>
<p>If not, you can always set it in the Markdown header.</p>
<p>Next, we are going to use the scripts <code>maketex</code> and <code>makepdf</code> I wrote to generate the Latex file and a pdf respectively. The updated versions of these can be found in my github fork. Remember to keep them in a location where you can run them globally.</p>
<ol type="1">
<li><p>maketex -</p>
<p>This converts the .md file to a .tex file so that it can be used as a starting point for a better Latex document which can be shared with collaborators on Overleaf.</p>
<p>Usage:</p>
<pre><code>maketex example.md example.tex</code></pre></li>
<li><p>makepdf -</p>
<p>This converts the .md file first to a .tex file and then generates a Pdf from that.</p>
<p>Usage:</p>
<pre><code>makepdf example.md</code></pre></li>
<li><p>makebeamer -</p>
<p>This converts the .md file into a beamer (presentation slides) pdf. Remember to add a theme in your YAML front matter such as <code>theme: Warsaw</code>.</p>
<p>Usage:</p>
<pre><code>makebeamer example.md</code></pre></li>
</ol>
<p>This document itself, Markdown_Tutorial.md can be used as an example to test the above scripts.</p>
<p>Well, I hope you enjoy Markdown as much as I do. It could be used as a good starting point to gather data and figures and keep all that in one place which is updated regularly until it’s ready for publication. If a report is required along the way, you can generate a professional looking Latex Pdf document with the scripts mentioned above.</p>
<p>References:</p>
<div id="refs" class="references" role="doc-bibliography">
<div id="ref-Evernote">
<p>1. Best note taking app - organize your notes with evernote. <a href="https://evernote.com/">https://evernote.com/</a> (2020).</p>
</div>
<div id="ref-HERATH2019107080">
<p>2. Herath, U. <em>et al.</em> PyProcar: A python library for electronic structure pre/post-processing. <em>Computer Physics Communications</em> 107080 (2019) doi:<a href="https://doi.org/https://doi.org/10.1016/j.cpc.2019.107080">https://doi.org/10.1016/j.cpc.2019.107080</a>.</p>
</div>
</div>
</body>
</html>
